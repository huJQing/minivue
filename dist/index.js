var Vue=function(){"use strict";const t=Array.prototype,e=Object.create(t);["push","pop","shift","unshift","splice","reverse","sort"].forEach((n=>{e[n]=function(...e){const i=t[n].call(this,e),r=this.__ob__;let o;switch(n){case"push":case"unshift":o=e;break;case"splice":o=e.slice(2)}return o&&r.observeArray(o),r.dep.notify(),i}}));let n=0;class i{constructor(){this.id=n++,this.subs=[]}depend(){i.target&&i.target.addDep(this)}notify(){this.subs.forEach((t=>t.update()))}addSub(t){this.subs.push(t)}}i.target=null;const r=[];class o{constructor(t){this.dep=new i,Object.defineProperty(t,"__ob__",{value:this,enumerable:!1,writable:!0,configurable:!0}),Array.isArray(t)?(t.__proto__=e,this.observeArray(t)):this.walk(t)}walk(t){Object.keys(t).forEach((e=>{let n=t[e];!function(t,e,n){let r=c(n),o=new i;Object.defineProperty(t,e,{get:()=>(i.target&&(o.depend(),r&&(r.dep.depend(),Array.isArray(n)&&s(n))),n),set(t){t!==n&&(c(t),n=t,o.notify())}})}(t,e,n)}))}observeArray(t){for(let e=0;e<t.length;e++)c(t[e])}}function s(t){for(let e,n=0,i=t.length;n<i;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&s(e)}function c(t){if("[object Object]"===Object.prototype.toString.call(t)||Array.isArray(t))return new o(t)}function u(t){const e=t.$options;e.props&&initProps(e.props),e.methods&&initMethod(t),e.data&&function(t){let e=t.$options.data;e=t._data="function"==typeof e?e.call(t):e||{};for(let n in e)l(t,"_data",n);c(e)}(t),e.computed&&initComputed(t),e.watch&&initWatch(t)}function l(t,e,n){Object.defineProperty(t,n,{get:()=>t[e][n],set(i){t[e][n]=i}})}const a="[a-zA-Z_][\\-\\.0-9_a-zA-Z]*",p=`((?:${a}\\:)?${a})`,f=new RegExp(`^<${p}`),h=/^\s*(\/?)>/,d=new RegExp(`^<\\/${p}[^>]*>`),y=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/;let g,_,b=[];const m=1,$=3;function v({tagName:t,attrs:e}){let n=function(t,e){return{tag:t,type:m,children:[],attrs:e,parent:null}}(t,e);g||(g=n),_=n,b.push(n)}function w(){let t=b.pop();_=b[b.length-1],_&&(t.parent=_,_.children.push(t))}function O(t){(t=t.replace(/\s/g,""))&&_.children.push({type:$,text:t})}const A=/\{\{((?:.|\r?\n)+?)\}\}/g;function x(t){const e=t.children;if(e)return`${e.map((t=>function(t){if(1===t.type)return S(t);{let e=t.text;if(!A.test(e))return`_v(${JSON.stringify(e)})`;let n,i,r=A.lastIndex=0,o=[];for(;n=A.exec(e);)i=n.index,i>r&&o.push(JSON.stringify(e.slice(r,i))),o.push(`_s(${n[1].trim()})`),r=i+n[0].length;return r<e.length&&o.push(JSON.stringify(e.slice(r))),`_v(${o.join("+")})`}}(t))).join(",")}`}function S(t){let e=x(t);return`_c('${t.tag}',${t.attrs.length?`${function(t){let e="";for(let n=0;n<t.length;n++){let i=t[n];if("style"===i.name){let t={};i.value.split(";").forEach((e=>{let[n,i]=e.split(":");t[n]=i})),i.value=t}e+=`${i.name}:${JSON.stringify(i.value)},`}return`{${e.slice(0,-1)}}`}(t.attrs)}`:"undefined"}${e?`,${e}`:""})`}function j(t){let e=S(function(t){for(;t;){let i,r=t.indexOf("<");if(0===r){const i=e();if(i){v(i);continue}const r=t.match(d);if(r){n(r[0].length),w(r[1]);continue}}r>=0&&(i=t.substring(0,r)),i&&(n(i.length),O(i))}function e(){const e=t.match(f);if(e){const i={tagName:e[1],attrs:[]};let r,o;for(n(e[0].length);!(r=t.match(h))&&(o=t.match(y));)n(o[0].length),o={name:o[1],value:o[3]||o[4]||o[5]},i.attrs.push(o);if(r)return n(1),i}}function n(e){t=t.substring(e)}return g}(t));return new Function(`with(this){return ${e}}`)}function N(t,e){if(t.nodeType){const n=t,i=n.parentNode;let r=E(e);return i.insertBefore(r,n.nextSibling),i.removeChild(t),r}}function E(t){let{tag:e,data:n,key:i,children:r,text:o}=t;return"string"==typeof e?(t.el=document.createElement(e),function(t){let e=t.data||{},n=t.el;for(let t in e)if("style"===t)for(let t in e.style)n.style[t]=e.style[t];else n.setAttribute(t,e[t])}(t),r.forEach((e=>t.el.appendChild(E(e))))):t.el=document.createTextNode(o),t.el}let k,I=[],P=!1;function J(){P=!1;for(let t=0;t<I.length;t++)I[t]();I.length=0}if("undefined"!=typeof Promise){const t=Promise.resolve();k=()=>{t.then(J)}}else if("undefined"!=typeof MutationObserver){let t=1;const e=new MutationObserver(J),n=document.createTextNode(String(t));e.observe(n,{characterData:!0}),k=()=>{t=(t+1)%2,n.data=String(t)}}else k="undefined"!=typeof setImmediate?()=>{setImmediate(J)}:()=>{setTimeout(J)};let T=[],M={};function C(){for(let t=0;t<T.length;t++)T[t].run();T=[],M={}}function D(t){const e=t.id;var n;void 0===M[e]&&(T.push(t),M[e]=!0,n=C,I.push(n),P||(P=!0,k()))}let z=0;class F{constructor(t,e,n,i){this.vm=t,this.exprOrFn=e,this.cb=n,this.options=i,this.id=z++,this.deps=[],this.depsId=new Set,"function"==typeof e&&(this.getter=e),this.get()}get(){var t;t=this,r.push(t),i.target=t,this.getter(),r.pop(),i.target=r[r.length-1]}addDep(t){let e=t.id;this.depsId.has(e)||(this.depsId.add(e),this.deps.push(t),t.addSub(this))}update(){D(this)}run(){this.get()}}class R{constructor(t,e,n,i,r){this.tag=t,this.data=e,this.key=n,this.children=i,this.text=r}}function Z(t){this._init(t)}return function(t){t.prototype._init=function(t){const e=this;e.$options=t,u(e),e.$options.el&&e.$mount(e.$options.el)},t.prototype.$mount=function(t){const e=this.$options;if(t=document.querySelector(t),!e.render){let n=e.template;if(!n&&t&&(n=t.outerHTML),n){const t=j(n);e.render=t}}return function(t,e){t.$el=e,new F(t,(()=>{t._update(t._render())}),null,!0)}(this,t)}}(Z),function(t){t.prototype._render=function(){const{render:t}=this.$options;return t.call(this)},t.prototype._c=function(...t){return function(t,e={},...n){let i=e.key;return new R(t,e,i,n)}(...t)},t.prototype._v=function(t){return function(t){return new R(void 0,void 0,void 0,void 0,t)}(t)},t.prototype._s=function(t){return null===t?"":"object"==typeof t?JSON.stringify(t):t}}(Z),function(t){t.prototype._update=function(t){console.log("_update");this.$el=N(this.$el,t)}}(Z),Z}();
//# sourceMappingURL=index.js.map
